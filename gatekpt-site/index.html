<h1>Transcribe Audio</h1>
<form id="upload-form">
  <input type="file" id="audio-file" accept="audio/*" required />
  <button type="submit">Transcribe</button>
</form>

<pre id="result">Your transcription will appear here...</pre>

<script>
  const form = document.getElementById('upload-form');
  const result = document.getElementById('result');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const fileInput = document.getElementById('audio-file');
    const file = fileInput.files[0];

    const formData = new FormData();
    formData.append('file', file);

    result.textContent = 'Uploading and transcribing...';

    try {
      const res = await fetch('/api/transcribe', {
        method: 'POST',
        body: formData
      });
      const data = await res.json();
      result.textContent = data.transcription || data.error || 'Something went wrong';
    } catch (err) {
      result.textContent = 'Upload failed.';
    }
  });
</script>
